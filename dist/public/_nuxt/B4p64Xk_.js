import{l as b,ah as G,aj as J,P as A,a1 as Q,L as d,n as e,aq as O,H as c,o as r,w as u,K as $,ac as k,f as H,as as S,b as F,ar as W,az as K,au as z,J as C,al as R,am as M,av as X,a9 as Y,A as Z,B as ee,C as te,cT as oe,cU as se,aH as T,E as N,G as V,I as h,ce as ae,cQ as ne,d as _,t as P,c as q,a as le,r as re}from"./CVwvMgBG.js";import{u as x}from"./C40-9aZM.js";import{_ as ie,a as ue,u as de}from"./TnZ4cY_b.js";import{g as ce}from"./CM2wjgdt.js";const[B,pe]=G("DialogRoot"),fe=b({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(s,{emit:l}){const t=s,o=J(t,"open",l,{defaultValue:t.defaultOpen,passive:t.open===void 0}),m=A(),y=A(),{modal:p}=Q(t);return pe({open:o,modal:p,openModal:()=>{o.value=!0},onOpenChange:i=>{o.value=i},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:m,contentElement:y}),(i,n)=>d(i.$slots,"default",{open:e(o),close:()=>o.value=!1})}}),me=b({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(s){const l=s;O();const t=B();return(a,o)=>(r(),c(e(k),$(l,{type:a.as==="button"?"button":void 0,onClick:o[0]||(o[0]=m=>e(t).onOpenChange(!1))}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["type"]))}}),U=b({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:l}){const t=s,a=l,o=B(),{forwardRef:m,currentElement:y}=O();return o.titleId||=x(void 0,"reka-dialog-title"),o.descriptionId||=x(void 0,"reka-dialog-description"),H(()=>{o.contentElement=y,S()!==document.body&&(o.triggerElement.value=S())}),(p,i)=>(r(),c(e(ie),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:i[5]||(i[5]=n=>a("openAutoFocus",n)),onUnmountAutoFocus:i[6]||(i[6]=n=>a("closeAutoFocus",n))},{default:u(()=>[F(e(W),$({id:e(o).contentId,ref:e(m),as:p.as,"as-child":p.asChild,"disable-outside-pointer-events":p.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(o).descriptionId,"aria-labelledby":e(o).titleId,"data-state":e(ce)(e(o).open.value)},p.$attrs,{onDismiss:i[0]||(i[0]=n=>e(o).onOpenChange(!1)),onEscapeKeyDown:i[1]||(i[1]=n=>a("escapeKeyDown",n)),onFocusOutside:i[2]||(i[2]=n=>a("focusOutside",n)),onInteractOutside:i[3]||(i[3]=n=>a("interactOutside",n)),onPointerDownOutside:i[4]||(i[4]=n=>a("pointerDownOutside",n))}),{default:u(()=>[d(p.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),ve=b({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:l}){const t=s,a=l,o=B(),m=K(a),{forwardRef:y,currentElement:p}=O();return ue(p),(i,n)=>(r(),c(U,$({...t,...e(m)},{ref:e(y),"trap-focus":e(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:n[0]||(n[0]=f=>{f.defaultPrevented||(f.preventDefault(),e(o).triggerElement.value?.focus())}),onPointerDownOutside:n[1]||(n[1]=f=>{const g=f.detail.originalEvent,v=g.button===0&&g.ctrlKey===!0;(g.button===2||v)&&f.preventDefault()}),onFocusOutside:n[2]||(n[2]=f=>{f.preventDefault()})}),{default:u(()=>[d(i.$slots,"default")]),_:3},16,["trap-focus"]))}}),ye=b({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:l}){const t=s,o=K(l);O();const m=B(),y=A(!1),p=A(!1);return(i,n)=>(r(),c(U,$({...t,...e(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:n[0]||(n[0]=f=>{f.defaultPrevented||(y.value||e(m).triggerElement.value?.focus(),f.preventDefault()),y.value=!1,p.value=!1}),onInteractOutside:n[1]||(n[1]=f=>{f.defaultPrevented||(y.value=!0,f.detail.originalEvent.type==="pointerdown"&&(p.value=!0));const g=f.target;e(m).triggerElement.value?.contains(g)&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&p.value&&f.preventDefault()})}),{default:u(()=>[d(i.$slots,"default")]),_:3},16))}}),ge=b({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:l}){const t=s,a=l,o=B(),m=K(a),{forwardRef:y}=O();return(p,i)=>(r(),c(e(z),{present:p.forceMount||e(o).open.value},{default:u(()=>[e(o).modal.value?(r(),c(ve,$({key:0,ref:e(y)},{...t,...e(m),...p.$attrs}),{default:u(()=>[d(p.$slots,"default")]),_:3},16)):(r(),c(ye,$({key:1,ref:e(y)},{...t,...e(m),...p.$attrs}),{default:u(()=>[d(p.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),j=b({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(s){const l=s;O();const t=B();return(a,o)=>(r(),c(e(k),$(l,{id:e(t).descriptionId}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),Ce=b({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(s){const l=B();return de(!0),O(),(t,a)=>(r(),c(e(k),{as:t.as,"as-child":t.asChild,"data-state":e(l).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:u(()=>[d(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),$e=b({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(s){const l=B(),{forwardRef:t}=O();return(a,o)=>e(l)?.modal.value?(r(),c(e(z),{key:0,present:a.forceMount||e(l).open.value},{default:u(()=>[F(Ce,$(a.$attrs,{ref:e(t),as:a.as,"as-child":a.asChild}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):C("",!0)}}),L=b({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(s){const l=s,t=B();return O(),(a,o)=>(r(),c(e(k),$(l,{id:e(t).titleId}),{default:u(()=>[d(a.$slots,"default")]),_:3},16,["id"]))}}),be=b({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(s){const l=s,t=B(),{forwardRef:a,currentElement:o}=O();return t.contentId||=x(void 0,"reka-dialog-content"),H(()=>{t.triggerElement.value=o.value}),(m,y)=>(r(),c(e(k),$(l,{ref:e(a),type:m.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:u(()=>[d(m.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),Oe=b({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(s){const l=s;return(t,a)=>(r(),c(e(X),R(M(l)),{default:u(()=>[d(t.$slots,"default")]),_:3},16))}}),Be={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},Ee={__name:"NuxtModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(s,{emit:l}){const t=s,a=l,o=Y(),{t:m}=Z(),y=ee(),p=te(oe(t,"open","defaultOpen","modal"),a),i=se(T(()=>t.portal)),n=T(()=>t.content),f=N(()=>{const v={closeAutoFocus:D=>D.preventDefault()};return t.dismissible?v:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((E,w)=>(E[w]=I=>{I.preventDefault(),a("close:prevent")},E),v)}),g=N(()=>V({extend:V(Be),...y.ui?.modal||{}})({transition:t.transition,fullscreen:t.fullscreen}));return(v,D)=>(r(),c(e(fe),R(M(e(p))),{default:u(({open:E,close:w})=>[o.default?(r(),c(e(be),{key:0,"as-child":"",class:h(t.class)},{default:u(()=>[d(v.$slots,"default",{open:E})]),_:2},1032,["class"])):C("",!0),F(e(Oe),R(M(e(i))),{default:u(()=>[s.overlay?(r(),c(e($e),{key:0,class:h(g.value.overlay({class:t.ui?.overlay}))},null,8,["class"])):C("",!0),F(e(ge),$({class:g.value.content({class:[!o.default&&t.class,t.ui?.content]})},n.value,{onAfterEnter:D[0]||(D[0]=I=>a("after:enter")),onAfterLeave:D[1]||(D[1]=I=>a("after:leave"))},ae(f.value)),{default:u(()=>[o.content&&(s.title||o.title||s.description||o.description)?(r(),c(e(ne),{key:0},{default:u(()=>[s.title||o.title?(r(),c(e(L),{key:0},{default:u(()=>[d(v.$slots,"title",{},()=>[_(P(s.title),1)])]),_:3})):C("",!0),s.description||o.description?(r(),c(e(j),{key:1},{default:u(()=>[d(v.$slots,"description",{},()=>[_(P(s.description),1)])]),_:3})):C("",!0)]),_:3})):C("",!0),d(v.$slots,"content",{close:w},()=>[o.header||s.title||o.title||s.description||o.description||t.close||o.close?(r(),q("div",{key:0,class:h(g.value.header({class:t.ui?.header}))},[d(v.$slots,"header",{close:w},()=>[le("div",{class:h(g.value.wrapper({class:t.ui?.wrapper}))},[s.title||o.title?(r(),c(e(L),{key:0,class:h(g.value.title({class:t.ui?.title}))},{default:u(()=>[d(v.$slots,"title",{},()=>[_(P(s.title),1)])]),_:3},8,["class"])):C("",!0),s.description||o.description?(r(),c(e(j),{key:1,class:h(g.value.description({class:t.ui?.description}))},{default:u(()=>[d(v.$slots,"description",{},()=>[_(P(s.description),1)])]),_:3},8,["class"])):C("",!0)],2),d(v.$slots,"actions"),t.close||o.close?(r(),c(e(me),{key:0,"as-child":""},{default:u(()=>[d(v.$slots,"close",{close:w,ui:g.value},()=>[t.close?(r(),c(re,$({key:0,icon:s.closeIcon||e(y).ui.icons.close,color:"neutral",variant:"ghost","aria-label":e(m)("modal.close")},typeof t.close=="object"?t.close:{},{class:g.value.close({class:t.ui?.close})}),null,16,["icon","aria-label","class"])):C("",!0)])]),_:2},1024)):C("",!0)])],2)):C("",!0),o.body?(r(),q("div",{key:1,class:h(g.value.body({class:t.ui?.body}))},[d(v.$slots,"body",{close:w})],2)):C("",!0),o.footer?(r(),q("div",{key:2,class:h(g.value.footer({class:t.ui?.footer}))},[d(v.$slots,"footer",{close:w})],2)):C("",!0)])]),_:2},1040,["class"])]),_:2},1040)]),_:3},16))}};export{Ee as _,be as a,Oe as b,$e as c,ge as d,L as e,j as f,me as g,fe as h};

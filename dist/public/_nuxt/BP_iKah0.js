import{l as A,du as M,dy as S,E as y,M as F,H as h,w as _,n as t,o as s,c as u,J as P,a as o,F as Y,x as U,_ as V,b as n,y as L,t as r,N as v,U as O}from"./CVwvMgBG.js";import{_ as z}from"./BjJADY5a.js";import{_ as H}from"./C5cbwpr9.js";import{_ as J}from"./DYtOHeaK.js";import{_ as Q}from"./BUy_ktjI.js";import{_ as j}from"./BQH4YRWo.js";import{g as G,b as K}from"./9ThFSRxC.js";import{t as W}from"./-7KF7Ksm.js";import{t as X}from"./ChRclvJ-.js";import{u as Z}from"./CA--58-j.js";import{u as b}from"./BWylYwCy.js";import"./BaciPMwD.js";import"./mGNbPSyX.js";import"./CftSbWNE.js";const tt={key:0},et={key:0,class:"mb-4"},ot={class:"space-y-4"},at={class:"flex flex-wrap gap-4"},st={class:"grid-center"},nt={class:"grid-center aspect-square p-1.5 bg-primary-50 text-primary rounded-full"},rt={class:"text-xs text-muted"},ct={class:"ml-auto flex flex-col items-end"},it={class:"font-semibold"},lt={class:"mt-4 flex-center"},ut={key:1},C=20,Bt=A({__name:"index",async setup(mt){let c,d;const m=Z().getParams("accountId"),f=M(),N=S(),i=y({get:()=>Number(f.query.page||1),set:a=>{N.replace({query:{...f.query,page:a}})}}),$=y(()=>({page:i.value,limit:C})),{data:g,error:k}=([c,d]=F(()=>b(`/api/user/financial-accounts/${m}`,{pick:["totalTransactions"]},"$pneasDBAR_")),c=await c,d(),c),{data:p,error:D,refresh:B}=b(`/api/user/financial-accounts/${m}/transactions`,{query:$},"$EPleqEOQOq");return(a,l)=>{const T=L,q=z,I=H,w=V,E=J,R=Q,x=j;return s(),h(x,{error:t(D)||t(k),onRefresh:l[1]||(l[1]=e=>t(B)())},{default:_(()=>[t(g)&&t(p)?(s(),u("div",tt,[t(p).length?(s(),u("div",et,[o("div",ot,[(s(!0),u(Y,null,U(t(p),e=>(s(),h(w,{key:e.id,to:`/user/accounts/${t(m)}/transactions/${e.id}`,class:"block"},{default:_(()=>[n(I,{class:"cursor-pointer"},{default:_(()=>[o("div",at,[o("div",st,[o("div",nt,[n(T,{name:("getTransactionIcon"in a?a.getTransactionIcon:t(G))(e.type),size:"1.5rem"},null,8,["name"])])]),o("div",null,[o("p",null,r(e.description??("toCase"in a?a.toCase:t(W))(e.type,"sentence")),1),o("p",rt,r(t(v)(e.createdAt,"MMM DD, YYYY"))+" at "+r(t(v)(e.createdAt,"hh:mm aa")),1)]),o("div",ct,[o("p",it,[o("span",null,r(e.type==="deposit"?"+":"-"),1),o("span",null,r(("toDollar"in a?a.toDollar:t(X))(e.USDAmount)),1)]),n(q,{color:("getTransactionStatusBadgeColor"in a?a.getTransactionStatusBadgeColor:t(K))(e.status),label:e.status,variant:"subtle"},null,8,["color","label"])])])]),_:2},1024)]),_:2},1032,["to"]))),128))]),o("div",lt,[n(E,{page:t(i),"onUpdate:page":l[0]||(l[0]=e=>O(i)?i.value=e:null),total:t(g).totalTransactions,"items-per-page":C,"show-edges":""},null,8,["page","total"])])])):(s(),u("div",ut,[n(R,{label:"No transactions"})]))])):P("",!0)]),_:1},8,["error"])}}});export{Bt as default};

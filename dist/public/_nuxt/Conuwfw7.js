import{_ as C}from"./CidxsHgk.js";import{_ as E}from"./noFtHZsG.js";import{_ as V,a as F}from"./Bkd0wxOE.js";import{l as z,P as u,S as B,c as p,a as s,b as t,t as P,n as o,J as q,w as r,W as I,d as _,U as R,_ as U,o as d,q as A,r as M}from"./BCrY3s8v.js";import{_ as T}from"./GUhg-1-n.js";import{_ as j}from"./CwNR5WVR.js";import{_ as D}from"./CqYo-uwL.js";import{z as G}from"./BoqIIjWt.js";import{E as J}from"./RZnrL4AU.js";import{a as L}from"./BtBUy-pL.js";import{n as W}from"./wc51SthY.js";import"./Df43cr2Y.js";import"./IDdVFqQ_.js";import"./1c9ch5oL.js";import"./CZ2Yaa7T.js";import"./Bar4WUZu.js";import"./C3npS8vC.js";const H={class:"text-sm text-muted"},K={class:"my-5"},O={key:0,class:"mb-3"},Q={class:"text-sm text-muted"},X={class:"space-y-3"},xe=z({__name:"index",setup(Y){const l=A(),n=u(!1),f=G.object({email:J}),a=B({email:""});function x(){a.email=""}const i=u(null);async function y(c){i.value=null,await L.requestPasswordReset({email:c.data.email,redirectTo:"/reset-password"},{onError(e){i.value=W(e.error)},onSuccess(){x(),n.value=!0}})}return(c,e)=>{const v=C,b=E,g=F,N=M,w=V,h=T,k=U,S=j,$=D;return d(),p("div",null,[e[5]||(e[5]=s("h1",{class:"text-lg font-semibold"},"Forgot Password",-1)),s("div",H," If you've forgotten your password, we can help you recover your "+P(o(l).public.appName)+" account. ",1),s("div",K,[o(i)?(d(),p("div",O,[t(v,{message:o(i).message},null,8,["message"])])):q("",!0),t(w,{schema:o(f),state:o(a),class:"space-y-4",onSubmit:I(y,["prevent"])},{default:r(()=>[t(g,{label:"Email",name:"email"},{default:r(()=>[t(b,{modelValue:o(a).email,"onUpdate:modelValue":e[0]||(e[0]=m=>o(a).email=m),size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),t(N,{type:"submit",class:"mt-2 w-full flex-center",size:"lg",icon:"i-lucide-check-circle","loading-auto":"",label:"Submit"})]),_:1},8,["schema","state"])]),s("div",null,[t(h,{class:"my-5"}),s("p",Q,[e[3]||(e[3]=_(" Go back to ")),t(k,{class:"link",to:{name:"sign-in"}},{default:r(()=>e[2]||(e[2]=[_(" sign in. ")])),_:1,__:[2]})])]),t($,{open:o(n),"onUpdate:open":e[1]||(e[1]=m=>R(n)?n.value=m:null),title:"Password reset request"},{body:r(()=>[s("div",X,[e[4]||(e[4]=s("p",null," Click the link that has been sent to your email address to complete the password recovery process. ",-1)),t(S,{variant:"subtle",color:"info",icon:"i-lucide-triangle-alert",ui:{description:"text-[0.8rem]"},description:`If you do not see an email, you may not have an ${o(l).public.appName} account.`},null,8,["description"])])]),_:1},8,["open"])])}}});export{xe as default};

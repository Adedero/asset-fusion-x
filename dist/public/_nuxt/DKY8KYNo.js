import{_ as pe,a as ve}from"./BdYDeim1.js";import{_ as ge}from"./BZ-MgUbv.js";import{a9 as W,A as X,B as Z,E as z,G as I,H as y,o as f,w as i,a,I as b,c as w,F as D,x as _e,J as _,b as l,d1 as be,K as N,n as e,d2 as ye,d3 as he,L as u,y as E,V as ee,cX as F,d as C,t as L,ac as ke,C as xe,cT as $e,cU as we,aH as U,al as V,am as M,ce as Le,cQ as Se,r as j,l as te,dB as Ae,f as Ce,Y as Ne,U as se,a7 as qe,du as ze,dy as Ie,P as O,M as Be,Q as Pe,cY as Oe,T as K,_ as Ee,q as je}from"./BCrY3s8v.js";import{_ as Re}from"./B6V7WQFR.js";import{_ as Te}from"./ZpX6fDX3.js";import{_ as De}from"./CidxsHgk.js";import{a as Fe,b as Ue,c as Ve,d as Me,e as H,f as Q,g as Ke,h as He,_ as Qe}from"./CqYo-uwL.js";import{g as Y}from"./IDdVFqQ_.js";import{i as G}from"./D9B1UaIg.js";import{u as Ye}from"./DcHTeA6R.js";import{a as Ge}from"./BtBUy-pL.js";import{n as Je}from"./wc51SthY.js";import{u as We}from"./CAqHKxSD.js";import"./CSISanO2.js";import"./D3Ilbq-7.js";import"./BsY6ekDi.js";import"./CpLtEdiG.js";import"./kRIii9yh.js";import"./DGxpg-Ox.js";import"./Bar4WUZu.js";import"./CZ2Yaa7T.js";import"./D8mweQSH.js";import"./CtXVfFFE.js";import"./YE4bf-b6.js";import"./1c9ch5oL.js";import"./CHIgUVhi.js";import"./Cs8bg_jY.js";import"./Cn5wymF0.js";import"./eC20ivXU.js";import"./C2XZIq7O.js";import"./CwNR5WVR.js";const Xe={slots:{root:"relative min-w-0",list:"flex items-center gap-1.5",item:"flex min-w-0",link:"group relative flex items-center gap-1.5 text-sm min-w-0 focus-visible:outline-primary",linkLeadingIcon:"shrink-0 size-5",linkLeadingAvatar:"shrink-0",linkLeadingAvatarSize:"2xs",linkLabel:"truncate",separator:"flex",separatorIcon:"shrink-0 size-5 text-muted"},variants:{active:{true:{link:"text-primary font-semibold"},false:{link:"text-muted font-medium"}},disabled:{true:{link:"cursor-not-allowed opacity-75"}},to:{true:""}},compoundVariants:[{disabled:!1,active:!1,to:!0,class:{link:["hover:text-default","transition-colors"]}}]},Ze={__name:"NuxtBreadcrumb",props:{as:{type:null,required:!1,default:"nav"},items:{type:Array,required:!1},separatorIcon:{type:String,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(s){const n=s,o=W(),{dir:$}=X(),r=Z(),g=z(()=>n.separatorIcon||($.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight)),c=z(()=>I({extend:I(Xe),...r.ui?.breadcrumb||{}})());return(k,S)=>(f(),y(e(ke),{as:s.as,"aria-label":"breadcrumb",class:b(c.value.root({class:[n.ui?.root,n.class]}))},{default:i(()=>[a("ol",{class:b(c.value.list({class:n.ui?.list}))},[(f(!0),w(D,null,_e(s.items,(t,p)=>(f(),w(D,{key:p},[a("li",{class:b(c.value.item({class:[n.ui?.item,t.ui?.item]}))},[l(be,N({ref_for:!0},e(ye)(t),{custom:""}),{default:i(({active:d,...m})=>[l(he,N({ref_for:!0},m,{as:"span","aria-current":d&&p===s.items.length-1?"page":void 0,class:c.value.link({class:[n.ui?.link,t.ui?.link,t.class],active:p===s.items.length-1,disabled:!!t.disabled,to:!!t.to})}),{default:i(()=>[u(k.$slots,t.slot||"item",{item:t,index:p},()=>[u(k.$slots,t.slot?`${t.slot}-leading`:"item-leading",{item:t,active:p===s.items.length-1,index:p},()=>[t.icon?(f(),y(E,{key:0,name:t.icon,class:b(c.value.linkLeadingIcon({class:[n.ui?.linkLeadingIcon,t.ui?.linkLeadingIcon],active:p===s.items.length-1}))},null,8,["name","class"])):t.avatar?(f(),y(ee,N({key:1,size:n.ui?.linkLeadingAvatarSize||c.value.linkLeadingAvatarSize()},{ref_for:!0},t.avatar,{class:c.value.linkLeadingAvatar({class:[n.ui?.linkLeadingAvatar,t.ui?.linkLeadingAvatar],active:p===s.items.length-1})}),null,16,["size","class"])):_("",!0)]),e(F)(t,n.labelKey)||o[t.slot?`${t.slot}-label`:"item-label"]?(f(),w("span",{key:0,class:b(c.value.linkLabel({class:[n.ui?.linkLabel,t.ui?.linkLabel]}))},[u(k.$slots,t.slot?`${t.slot}-label`:"item-label",{item:t,active:p===s.items.length-1,index:p},()=>[C(L(e(F)(t,n.labelKey)),1)])],2)):_("",!0),u(k.$slots,t.slot?`${t.slot}-trailing`:"item-trailing",{item:t,active:p===s.items.length-1,index:p})])]),_:2},1040,["aria-current","class"])]),_:2},1040)],2),p<s.items.length-1?(f(),w("li",{key:0,role:"presentation","aria-hidden":"true",class:b(c.value.separator({class:[n.ui?.separator,t.ui?.separator]}))},[u(k.$slots,"separator",{},()=>[l(E,{name:g.value,class:b(c.value.separatorIcon({class:[n.ui?.separatorIcon,t.ui?.separatorIcon]}))},null,8,["name","class"])])],2)):_("",!0)],64))),128))],2)]),_:3},8,["as","class"]))}},et={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default sm:ring ring-default sm:shadow-lg flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{side:{top:{content:"inset-x-0 top-0 max-h-full"},right:{content:"right-0 inset-y-0 w-full max-w-md"},bottom:{content:"inset-x-0 bottom-0 max-h-full"},left:{content:"left-0 inset-y-0 w-full max-w-md"}},transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]"}}},compoundVariants:[{transition:!0,side:"top",class:{content:"data-[state=open]:animate-[slide-in-from-top_200ms_ease-in-out] data-[state=closed]:animate-[slide-out-to-top_200ms_ease-in-out]"}},{transition:!0,side:"right",class:{content:"data-[state=open]:animate-[slide-in-from-right_200ms_ease-in-out] data-[state=closed]:animate-[slide-out-to-right_200ms_ease-in-out]"}},{transition:!0,side:"bottom",class:{content:"data-[state=open]:animate-[slide-in-from-bottom_200ms_ease-in-out] data-[state=closed]:animate-[slide-out-to-bottom_200ms_ease-in-out]"}},{transition:!0,side:"left",class:{content:"data-[state=open]:animate-[slide-in-from-left_200ms_ease-in-out] data-[state=closed]:animate-[slide-out-to-left_200ms_ease-in-out]"}}]},tt={__name:"NuxtSlideover",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1,default:"right"},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(s,{emit:n}){const o=s,$=n,r=W(),{t:g}=X(),c=Z(),k=xe($e(o,"open","defaultOpen","modal"),$),S=we(U(()=>o.portal)),t=U(()=>o.content),p=z(()=>{const m={closeAutoFocus:x=>x.preventDefault()};return o.dismissible?m:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((A,v)=>(A[v]=h=>{h.preventDefault(),$("close:prevent")},A),m)}),d=z(()=>I({extend:I(et),...c.ui?.slideover||{}})({transition:o.transition,side:o.side}));return(m,x)=>(f(),y(e(He),V(M(e(k))),{default:i(({open:A,close:v})=>[r.default?(f(),y(e(Fe),{key:0,"as-child":"",class:b(o.class)},{default:i(()=>[u(m.$slots,"default",{open:A})]),_:2},1032,["class"])):_("",!0),l(e(Ue),V(M(e(S))),{default:i(()=>[s.overlay?(f(),y(e(Ve),{key:0,class:b(d.value.overlay({class:o.ui?.overlay}))},null,8,["class"])):_("",!0),l(e(Me),N({"data-side":s.side,class:d.value.content({class:[!r.default&&o.class,o.ui?.content]})},t.value,{onAfterEnter:x[0]||(x[0]=h=>$("after:enter")),onAfterLeave:x[1]||(x[1]=h=>$("after:leave"))},Le(p.value)),{default:i(()=>[r.content&&(s.title||r.title||s.description||r.description)?(f(),y(e(Se),{key:0},{default:i(()=>[s.title||r.title?(f(),y(e(H),{key:0},{default:i(()=>[u(m.$slots,"title",{},()=>[C(L(s.title),1)])]),_:3})):_("",!0),s.description||r.description?(f(),y(e(Q),{key:1},{default:i(()=>[u(m.$slots,"description",{},()=>[C(L(s.description),1)])]),_:3})):_("",!0)]),_:3})):_("",!0),u(m.$slots,"content",{close:v},()=>[r.header||s.title||r.title||s.description||r.description||o.close||r.close?(f(),w("div",{key:0,class:b(d.value.header({class:o.ui?.header}))},[u(m.$slots,"header",{close:v},()=>[a("div",{class:b(d.value.wrapper({class:o.ui?.wrapper}))},[s.title||r.title?(f(),y(e(H),{key:0,class:b(d.value.title({class:o.ui?.title}))},{default:i(()=>[u(m.$slots,"title",{},()=>[C(L(s.title),1)])]),_:3},8,["class"])):_("",!0),s.description||r.description?(f(),y(e(Q),{key:1,class:b(d.value.description({class:o.ui?.description}))},{default:i(()=>[u(m.$slots,"description",{},()=>[C(L(s.description),1)])]),_:3},8,["class"])):_("",!0)],2),u(m.$slots,"actions"),o.close||r.close?(f(),y(e(Ke),{key:0,"as-child":""},{default:i(()=>[u(m.$slots,"close",{close:v,ui:d.value},()=>[o.close?(f(),y(j,N({key:0,icon:s.closeIcon||e(c).ui.icons.close,color:"neutral",variant:"ghost","aria-label":e(g)("slideover.close")},typeof o.close=="object"?o.close:{},{class:d.value.close({class:o.ui?.close})}),null,16,["icon","aria-label","class"])):_("",!0)])]),_:2},1024)):_("",!0)])],2)):_("",!0),a("div",{class:b(d.value.body({class:o.ui?.body}))},[u(m.$slots,"body",{close:v})],2),r.footer?(f(),w("div",{key:1,class:b(d.value.footer({class:o.ui?.footer}))},[u(m.$slots,"footer",{close:v})],2)):_("",!0)])]),_:2},1040,["data-side","class"])]),_:2},1040)]),_:3},16))}},st={class:"h-screen w-screen flex relative min-w-0"},at={class:"gap-1.5 p-4 sm:px-6 min-h-16"},ot={class:"flex-shrink-o flex-grow overflow-y-auto p-4 sm:px-6"},nt={class:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16"},lt={class:"flex-grow h-screen grid grid-rows-[repeat(14,minmax(0,1fr))]"},it={class:"flex items-center gap-4 border-b border-b-default px-4 py-3 rows-span-1"},rt={class:"w-fit"},ut={class:"flex-shrink-o flex-grow"},ct={class:"row-span-13 p-4 overflow-y-auto"},dt=te({__name:"sidebar",setup(s){const n=Y("sidebar-sm",!1),o=Y("sidebar-lg",!1),$=Ae(o);function r(g){g.preventDefault(),n.value=!1}return Ce(()=>{window.addEventListener("resize",r)}),Ne(()=>{window.removeEventListener("resize",r)}),(g,c)=>{const k=tt,S=qe,t=j;return f(),w("div",st,[a("div",null,[l(k,{open:e(n),"onUpdate:open":c[0]||(c[0]=p=>se(n)?n.value=p:null),side:"left",ui:{content:"w-80"}},{header:i(()=>[u(g.$slots,"header")]),body:i(()=>[u(g.$slots,"content")]),footer:i(()=>[u(g.$slots,"footer")]),_:3},8,["open"])]),l(S,null,{default:i(()=>[a("aside",{class:b(["hidden overflow-hidden lg:flex lg:flex-col overlay flex-shrink-0 h-screen border-r border-r-default bg-muted/50 transition-[width] duration-200",{"w-[19rem] *:opacity-100":e(o),"w-0 *:opacity-0":!e(o)}])},[a("header",at,[u(g.$slots,"header")]),a("div",ot,[u(g.$slots,"content")]),a("footer",nt,[u(g.$slots,"footer")])],2)]),_:3}),a("div",lt,[a("header",it,[a("div",rt,[l(t,{size:"sm",color:"neutral",icon:"lucide-panel-left",variant:"ghost",class:"lg:hidden",onClick:c[1]||(c[1]=p=>n.value=!0)}),l(t,{size:"sm",color:"neutral",icon:"lucide-panel-left",variant:"ghost",class:"hidden lg:flex",onClick:c[2]||(c[2]=p=>e($)())})]),a("div",ut,[u(g.$slots,"body-header")])]),a("section",ct,[u(g.$slots,"body")])])])}}}),mt=Object.assign(dt,{__name:"NuxtSidebar"}),ft=({signOut:s})=>[[{label:"Home",type:"label"},{label:"Dashboard",icon:"i-lucide-house",to:"/user"}],[{label:"Finances",type:"label"},{label:"Accounts",icon:"i-lucide-book-user",to:"/user/accounts"},{label:"Investment Plans",icon:"i-lucide-circle-dollar-sign",to:"/user/investment-plans"}],[{label:"Security",type:"label"},{label:"Forgot Password",icon:"i-lucide-lock-open",to:"/forgot-password"},{label:"Change Password",icon:"i-lucide-lock",to:"/user/change-password"},{label:"Change Email",icon:"i-lucide-mail-warning",to:"/user/change-email"}],[{label:"User",type:"label"},{label:"Profile",icon:"i-lucide-circle-user-round",to:"/user/profile"},{label:"Notifications",icon:"i-lucide-bell",to:"/user/notifications"}],[{label:"Sign out",icon:"i-lucide-log-out",onSelect:()=>s()}]],J=({name:s,image:n,signOut:o})=>[[{label:s,avatar:{src:n,size:"xl",alt:s},type:"label"}],[{label:"Accounts",icon:"i-lucide-book-user",to:"/user/accounts"},{label:"Profile",icon:"i-lucide-circle-user-round",to:"/user/profile"}],[{label:"Sign out",icon:"i-lucide-log-out",onSelect:()=>o()}]],pt={class:"w-full bg-elevated rounded-md px-2 py-4"},vt={class:"flex items-center gap-2"},gt={class:"text-sm font-semibold"},_t={class:"cursor-context-menu select-none w-full transition-colors hover:bg-elevated rounded-md p-2"},bt={class:"flex items-center gap-2 justify-between"},yt={class:"flex items-center gap-2"},ht={class:"font-semibold text-sm"},kt={class:"text-xs"},xt={class:"flex items-center gap-1 justify-between overflow-x-auto"},$t={key:0,class:"hidden md:block"},wt={class:"w-full h-full flex items-center gap-3 justify-end"},Lt={class:"space-y-4"},St={class:"flex items-center gap-2 justify-end"},os=te({__name:"user",async setup(s){let n,o;const $=je(),r=ze(),g=Ie(),c=O([]);g.beforeEach((v,h,B)=>{c.value=v.meta.breadcrumb,B()});const{data:k,error:S,pending:t,refresh:p}=([n,o]=Be(()=>We("/api/user/notifications/unread/check",{key:"user-unread-notifications-check"},"$ZsRqItT41r")),n=await n,o(),n),d=Ye(),m=O(!1),x=O(null),A=async()=>{await Ge.signOut({fetchOptions:{onSuccess:()=>{K("/sign-in")},onError:v=>{x.value=Je(v.error)}}})};return(v,h)=>{const B=pe,ae=ge,oe=Ee,ne=Re,R=ee,le=E,T=Te,ie=Ze,P=j,re=Oe,ue=ve,ce=Pe,de=De,me=Qe,fe=mt;return f(),w("div",null,[l(B),l(fe,null,{header:i(()=>[a("div",pt,[a("div",vt,[l(oe,{to:"/user"},{default:i(()=>[l(ae,{size:"32"})]),_:1}),a("div",null,[a("p",gt,L(e($).public.appName),1),h[2]||(h[2]=a("p",{class:"text-muted text-xs"},"Investment made easy",-1))])])])]),content:i(()=>[a("div",null,[l(ne,{orientation:"vertical",items:e(ft)({signOut:()=>m.value=!0})},null,8,["items"])])]),footer:i(()=>[l(T,{items:e(J)({name:e(d).user.value?.name??"Anonymous",image:e(d).user.value?.image??void 0,signOut:()=>m.value=!0}),ui:{content:"w-48"}},{default:i(()=>[a("div",_t,[a("div",bt,[a("div",yt,[l(R,{size:"xl",text:("initials"in v?v.initials:e(G))(e(d).user.value?.name??"Anonymous"),src:e(d).user.value?.image??void 0},null,8,["text","src"]),a("div",null,[a("p",ht,L(e(d).user.value?.name??"Anonymous"),1),a("p",kt,L(e(d).user.value?.email??"unverified"),1)])]),l(le,{name:"lucide-chevrons-up-down",size:"1rem",class:"flex-shrink-0"})])])]),_:1},8,["items"])]),"body-header":i(()=>[a("div",xt,[e(r).meta.breadcrumb?(f(),w("div",$t,[l(ie,{items:e(c),ui:{link:"text-sm"}},null,8,["items"])])):_("",!0),a("div",wt,[a("div",null,[l(re,{show:e(k)?.hasUnreadNotifications},{default:i(()=>[l(P,{loading:e(t),icon:e(S)?"i-lucide-alert-triangle":"i-lucide-bell",size:"sm",variant:"outline",color:"neutral",onClick:h[0]||(h[0]=q=>e(S)?e(p)():("navigateTo"in v?v.navigateTo:e(K))("/user/notifications"))},null,8,["loading","icon"])]),_:1},8,["show"])]),a("div",null,[l(ue,{size:"sm"})]),l(T,{items:e(J)({name:e(d).user.value?.name??"Anonymous",image:e(d).user.value?.image??void 0,signOut:()=>m.value=!0}),ui:{content:"w-48"}},{default:i(()=>[a("div",null,[l(R,{size:"xl",text:("initials"in v?v.initials:e(G))(e(d).user.value?.name??"Anonymous"),src:e(d).user.value?.image??void 0},null,8,["text","src"])])]),_:1},8,["items"])])])]),body:i(()=>[l(ce),l(me,{open:e(m),"onUpdate:open":h[1]||(h[1]=q=>se(m)?m.value=q:null),title:"Sign out"},{body:i(({close:q})=>[a("div",Lt,[h[3]||(h[3]=a("p",null,"Are you sure you want to proceed?",-1)),e(x)?(f(),y(de,{key:0,message:e(x).message},null,8,["message"])):_("",!0),a("div",St,[l(P,{label:"Cancel",color:"neutral",variant:"soft",onClick:q},null,8,["onClick"]),l(P,{label:"Sign out","loading-auto":"",onClick:A})])])]),_:1},8,["open"])]),_:1})])}}});export{os as default};
